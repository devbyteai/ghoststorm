# Platform Algorithms

The Algorithms tab manages API signature algorithms and authentication methods for social media platforms. This is an advanced feature for debugging when automation stops working.

## What Are Algorithms?

Social media platforms use special "signatures" to block bots:
- **TikTok**: X-Bogus, X-Gorgon, X-Gnarly signatures
- **Others**: OAuth tokens, API keys

These signatures are like passwords that platforms check to verify requests are legitimate.

## When You Need This

Most users never touch this screen. It's for:
- Debugging failed API requests
- Understanding why automation stopped
- Manually refreshing outdated algorithms

## Status Indicators

| Status | Meaning |
|--------|---------|
| **Active** (Green) | Working fine |
| **Weekly Update** (Yellow) | Needs regular refresh |
| **Deprecated** (Red) | Old, don't use |

## TikTok Algorithms

### X-Gorgon (Deprecated)
- **Purpose**: Legacy mobile API authentication
- **Method**: MD5 + XOR encoding
- **Headers**: X-Gorgon, X-Khronos
- **Status**: No longer used by TikTok

### X-Bogus (Current)
- **Purpose**: Web API request signing
- **Method**: JS VM obfuscated algorithm
- **Headers**: X-Bogus
- **Update Frequency**: Weekly
- **Notes**: TikTok changes this regularly

### X-Gnarly (Current)
- **Purpose**: Enhanced web security
- **Method**: JS VM + X-Bogus combined
- **Headers**: X-Gnarly
- **Update Frequency**: Weekly
- **Notes**: Used alongside X-Bogus

### MSSDK (Mobile)
- **Purpose**: Mobile SDK authentication
- **Method**: Device registration
- **Headers**: X-SS-STUB
- **Status**: Stable, manual only

## Social Platform APIs

These use standard OAuth 2.0 and are more stable:

### Instagram Graph API
- **Method**: Bearer Token
- **Token Lifetime**: 60 days
- **Actions**: View Docs, Test Token

### YouTube Data API v3
- **Method**: API Key or Bearer Token
- **Quota**: 10,000 units/day
- **Actions**: View Docs, Test Key

### Twitter/X API v2
- **Method**: OAuth 2.0 PKCE
- **Limits**: 500K-1M requests/month
- **Actions**: View Docs, Test Token

### Facebook Graph API
- **Method**: Bearer Token + Page Tokens
- **Token Lifetime**: 60 days
- **Actions**: View Docs, Test Token

### Spotify Web API
- **Method**: OAuth 2.0 Auth Code
- **Features**: Refresh token support
- **Actions**: View Docs, Test Token

### Twitch Helix API
- **Method**: Bearer Token + Client-Id
- **Required**: Client-Id always needed
- **Actions**: View Docs, Test Token

## Algorithm Cards

Each card shows:
- **Name**: Algorithm identifier
- **Description**: What it does
- **Method**: Technical approach
- **Headers**: HTTP headers used
- **Status**: Current state

### Actions

| Button | Action |
|--------|--------|
| **View Code** | See implementation details |
| **Refresh** | Attempt to update algorithm |
| **View Docs** | Open official documentation |
| **Test Token** | Verify credentials work |

## Algorithm Detail Modal

Click any card to see:
- Full implementation code
- Last update timestamp
- Test results
- CDN scrape option (for X-Bogus)

### Refresh Options

- **Refresh**: Standard update attempt
- **CDN Scrape**: Fetch from TikTok's CDN (X-Bogus only)
- **Test**: Verify algorithm works

## Fetch Log

Bottom panel shows:
- Update attempts
- Success/failure results
- Timestamps
- Error messages

## Statistics Bar

| Stat | Meaning |
|------|---------|
| **Active** | Working algorithms |
| **Needs Update** | Outdated, should refresh |
| **Deprecated** | Old, don't use |
| **Total** | All algorithms |

## Best Practices

1. **Don't Touch Unless Broken**: If automation works, leave it alone
2. **Check Status First**: Yellow status means refresh needed
3. **Monitor Logs**: Watch for recurring failures
4. **OAuth Tokens**: Regenerate before 60-day expiry
5. **TikTok Signatures**: Expect weekly changes

## Troubleshooting

### TikTok Requests Failing
1. Check X-Bogus status
2. Try refresh
3. Use CDN Scrape if refresh fails
4. Wait for community update if all fails

### OAuth Token Expired
1. Go to platform's algorithm card
2. Click "Test Token"
3. If failed, regenerate in platform's developer console
4. Update credentials

### Algorithm Shows Deprecated
- Switch to newer alternative
- Check if platform changed their API
- Update your automation code

### Refresh Always Fails
- Platform may have changed structure
- Wait for algorithm update
- Check community resources

## Technical Notes

### How Signatures Work

TikTok signatures are generated by:
1. Collecting request parameters
2. Adding device/browser info
3. Running through obfuscated JavaScript
4. Producing a signed header value

### Why They Change

Platforms update signatures to:
- Block automation tools
- Increase security
- Prevent abuse

### Keeping Updated

- Monitor fetch logs
- Watch for error patterns
- Check release notes
- Follow security updates

See [Troubleshooting](troubleshooting.md) for more solutions.
